\section{Use Cases}
\newcommand{\myspace}{\vspace{1cm}}
%\subsection{Retrieve/examine file tree}
%\begin{description}
%\item[Actors]Database, website
%\item[Description]The most basic function of the crawler is to retrieve the available files. The crawler will scan the hosted files and report what is found.
%\item[Preconditions] \hfill
%\begin{enumerate}
%    \item The web domain is known to the crawler.
%\end{enumerate}
%
%
%\item[Main flow] \hfill
%\begin{enumerate}
%    \item The system connects to web server specified by the user. [Alt. flow: Connection could not established]
%    \item The system gets a listing of files available.
%    \item The system retrieves files for further scanning.   
%    \item The system adds the list of files to database to reporting.
%\end{enumerate}
%
%\item[Alt. flow: Connection could not be established] \hfill
%\begin{enumerate}
%    \item The system reports error received, store error in database (could be relevant for security testing.)
%\end{enumerate}
%\item[Postconditions] \hfill
%\begin{enumerate}
%    \item All of the files publicly available are known to the crawler.
%    \item All files have been retrieved and their locations known.
%\end{enumerate}
%\end{description}
%\myspace

\subsection{Initiate web crawl}
\begin{description}
\item[Actors] User
\item[Description] The end-user will propose a website to crawl and supply an e-mail for 403 Security to respond to when the report is available.
\item[Preconditions] \hfill
\begin{enumerate}
    \item User knows website to crawl.
    \item User has an e-mail address.
    \item Web crawler system is running and accepting requests.
\end{enumerate}

\item[Main flow] \hfill
\begin{enumerate}
    \item User inputs the website to be crawled and an e-mail to report to.
    \item Get input from form and send it to crawler to initiate crawl. [Alt. flow: Incorrect input]
\end{enumerate}

\item[Alt. flow: Incorrect input] \hfill
\begin{enumerate}
    \item System recognizes that input is missing from the user.       
    \item System sends user back to input page with appropriate error message.
\end{enumerate}


\item[Post-conditions] \hfill
\begin{enumerate}
    \item Sufficient data is available for crawler to begin the crawl.
\end{enumerate}
\end{description}
\myspace

\subsection{Display a trace log}
\begin{description}
\item[Actors] User, crawler, database
\item[Description] Given that the crawler has completed it crawl, it will allow a user to view the trace log which is compiled while it is running.
\item[Pre-conditions] \hfill
\begin{enumerate}
    \item Crawl has completed.
    \item Modules have written information in the log.
\end{enumerate}


\item[Main Flow] \hfill
\begin{enumerate}
    \item As each process executes, it will save entries in the log file. [Alt. flow: A process fails]
    \item The log file will be stored in the database to be viewed later.
    \item User opens the log file for viewing.
\end{enumerate}

\item[Alt. flow: A process fails] \hfill
\begin{enumerate}
    \item Enter a record in the log file stating the process that failed and if available, why it failed.
\end{enumerate}

\item[Post-conditions] \hfill
\begin{enumerate}
    \item Trace log file is compiled and is made available to user.
\end{enumerate}
\end{description}
\myspace
\subsection{Compare previous crawls}
\begin{description}
\item[Actors] End-user, 403 Security, database
\item[Description] As a client of 403 Security and a previous user of this service, the user should able to see the progress made on my website in order to gauge the usefulness of the service and 403 Security's services.
\item[Pre-conditions] \hfill
\begin{enumerate}
    \item At least two crawls have been done on the site.
\end{enumerate}

\item[Main Flow] \hfill
\begin{enumerate}
    \item Access database to get all crawl information.
    \item Create a table with the most recent crawl and the historical crawls. [Alt. flow: No previous crawls]
    \item List basic information (no descriptions or possible flaws, just a listing of things found) and add table to report.
\end{enumerate}

\item[Alt. flow: No previous crawls] \hfill
\begin{enumerate}
    \item Do not include table.
    \item Continue with report.
\end{enumerate}


\item[Post-conditions] \hfill
\begin{enumerate}
    \item Data for comparisons are shown to the user.
\end{enumerate}
\end{description}
\myspace
%\subsection{Generic HTML data is parsed}
%\begin{description}
%\item[Actors] Crawler
%\item[Description] After completing a crawl of the website, the crawler analyzes all HTML documents present for vulnerabilities in the HTML headers and forms.
%\item[Pre-conditions] \hfill
%\begin{enumerate}
%    \item Crawler has received intact HTML document.
%\end{enumerate}
%
%
%\item[Main Flow] \hfill
%\begin{enumerate}
%	\item Crawler receives HTML document from HTTP GET request.
%    \item Crawler analyzes headers for possible vulnerabilities. [Alt. flow A: Headers are bot-malicious]
%    \item Crawler analyzes forms for possible vulnerabilities. [Alt. flow B: No forms are present]
%    \item Crawler searches for and saves Search Engine Optimization information.
%    \item Crawler sends results to database for storage and formatting.
%    \item HTML data is sent to individual analysis modules for further analysis.
%    \item Form and vulnerability data is sent to automated email generation.
%\end{enumerate}
%
%\item[Alt. flow A: Headers are bot-malicious] \hfill
%\begin{enumerate}
%    \item Crawler skips to form analysis.
%\end{enumerate}
%
%\item[Alt. flow B: No forms are present] \hfill
%\begin{enumerate}
%    \item Crawler skips form analysis.
%\end{enumerate}
%
%
%\item[Post-conditions] \hfill
%\begin{enumerate}
%    \item Crawler returns any vulnerabilities present to database, or an appropriate error condition for alternate flows.  Crawler gives any SEO data to the database.
%\end{enumerate}
%\end{description}
%\myspace
\subsection{Report Results}
\begin{description}
\item[Actors] User, customer
\item[Description] When the data has been analyzed, the warnings that were generated will be put into text, and be put into an email which will go to Alan. Alan will then use this email to give a security report to the customer.
\item[Pre-conditions] \hfill
\begin{enumerate}
    \item The system has already analyzed the data and created warnings.
    \item The system knows the customer’s email address.
    \item The system knows whether or not it should save results locally if it fails to send it.
\end{enumerate}


\item[Main Flow] \hfill
\begin{enumerate}
    \item The system generates a report from the analysis it has done earlier.
    \item The system tells the user that a report was made.
    \item The system will give the report to the email system. [Alt. flow A: The email system is down; Alt. flow B: The email system tells the system that there was an error]
    \item The system tells the user that the report was sent to the customer’s email address.
\end{enumerate}

\item[Alt. flow A: The email system is down] \hfill
\begin{enumerate}
    \item The system tells the user that it cannot send the report to the user.
    \item If the system should save the report, it will do this now.
\end{enumerate}

\item[Alt. flow B: The email system tells the system that there was an error] \hfill
\begin{enumerate}
    \item The system tells the user the error it has received.
    \item If the system should save the report, it will do this now.
\end{enumerate}


\item[Post-conditions] \hfill
\begin{enumerate}
    \item The data is analyzed by the system and makes a report of the conclusions it makes to show to the customer.
\end{enumerate}
\end{description}
\myspace
%\subsection{Examine Certificates} 
%\begin{description}
%\item[Actors] Website
%\item[Description] The system will look at any certificates of any web page it comes across. If it is outdated or invalid, it will generate a warning with the information the system found about the certificate.
%\item[Pre-conditions] \hfill
%\begin{enumerate}
%    \item The system has a list of files it has found in the website.
%    \item The website is valid.
%\end{enumerate}
%
%
%\item[Main Flow] \hfill.
%\begin{enumerate}
%    \item The system checks for a certificate for every file.
%    \item If the certificate for a file is outdated or invalid, the system will make a note of that and store that in a list.
%\end{enumerate}
%
%\item[Post-conditions] \hfill
%\begin{enumerate}
%    \item The system will make a list of all outdated and invalid certificates.
%\end{enumerate}
%\end{description}
%\myspace
%\subsection{Analyze and parse Javascript files}
%\begin{description}
%\item[Actors] Web Server, crawler, database
%\item[Description]The crawler will parse the Javascript files (if applicable) stored on the website and record useful information in the database.
%\item[Pre-conditions] \hfill
%\begin{enumerate}
%    \item Every canonical URL and all pages in the file tree have been pulled off of the website.
%\end{enumerate}
%
%\item[Main Flow] \hfill
%\begin{enumerate}
%    \item The tool analyzes all Javascript files and records any recognized libraries being used to the database.
%    \item The tool looks at inline script in all pages and records any recognized autogenerated functions or naming conventions to the database. It infers more detailed version information from script elements given certain Javascript files if possible.
%    \item The tool executes any static, stored POST/GET requests and adds any returned pages to the file tree. It logs any recognized patterns in the returned objects as well.
%\end{enumerate}
%
%
%\item[Post-conditions] \hfill
%\begin{enumerate}
%    \item The tool recursively analyzes any pages it retrieved from stored POST/GET requests.
%\end{enumerate}
%\end{description}
%\myspace
%\subsection{Show statistics on websites}
%\begin{description}
%\item[Actors] User, Database
%\item[Description] The crawler will be able to analyze different statistics about the websites it has crawled such as security flaw trends and typical problematic software present on websites.
%\item[Pre-conditions] \hfill
%\begin{enumerate}
%    \item At least one crawl has completed.
%\end{enumerate}
%
%\item[Main Flow] \hfill
%\begin{enumerate}
%    \item User requests statistics from the crawler.
%    \item Crawler compiles specified statistics from crawl data about a specific site or multiple sites.
%    \item Crawler outputs a report to the user.
%\end{enumerate}
%
%
%\item[Post-conditions] \hfill
%\begin{enumerate}
%    \item A report is available to the user.
%\end{enumerate}
%\end{description}
%\myspace
